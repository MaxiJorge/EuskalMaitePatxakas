<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Buscar No Premium - VitoMaite</title>
    <link rel="stylesheet" href="css/estilos.css">
</head>
<body>
    <header>
        <h2 class="nombre-app">VitoMaite</h2>
        <div class="perfil">
            <img src="img/default-profile.jpg" alt="Foto de perfil" class="foto-perfil">
            <button id="cerrarSesion">Cerrar Sesión</button>
        </div>
        <h1 class="titulo-busqueda">Búsqueda No Premium</h1>
    </header>

    <main>
        <section class="busqueda-container">
            <label for="filtroGenero">Género:</label>
            <select id="filtroGenero">
                <option value="">Cualquiera</option>
                <option value="hombre">Hombre</option>
                <option value="mujer">Mujer</option>
            </select>

            <label for="filtroEdad">Edad:</label>
            <select id="filtroEdad">
                <option value="">Cualquiera</option>
                <option value="18-25">18-25</option>
                <option value="26-35">26-35</option>
                <option value="36-45">36-45</option>
                <option value="46+">46+</option>
            </select>

            <label for="filtroCiudad">Ciudad:</label>
            <select id="filtroCiudad">
                <option value="">Cualquiera</option>
                <option value="Vitoria">Vitoria</option>
                <option value="Bilbo">Bilbo</option>
                <option value="Donosti">Donosti</option>
            </select>
            <button id="buscar" class="boton-buscar">Buscar</button>
        </section>

        <section id="resultados">
            <table>
                <thead>
                    <tr>
                        <th>Nick</th>
                        <th>Edad</th>
                        <th>Ciudad</th>
                        <th>Detalles</th>
                        <th>Like</th>
                    </tr>
                </thead>
                <tbody id="tablaResultados">
                    <tr data-usuario-id="1">
                        <td>usuario1</td>
                        <td>25</td>
                        <td>Vitoria</td>
                        <td><button class="detalle-btn">Detalles</button></td>
                        <td><img src="img/heart.png" class="like-icon" alt="Like"></td>
                    </tr>
                    <tr data-usuario-id="2">
                        <td>usuario2</td>
                        <td>30</td>
                        <td>Bilbo</td>
                        <td><button class="detalle-btn">Detalles</button></td>
                        <td><img src="img/heart.png" class="like-icon" alt="Like"></td>
                    </tr>
                </tbody>
            </table>
        </section>
    </main>

    <footer>
        <div>© 2024 VitoMaite. Todos los derechos reservados.</div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const tablaResultados = document.getElementById('tablaResultados');

            tablaResultados.addEventListener('click', function (event) {
                if (event.target.classList.contains('detalle-btn')) {
                    const fila = event.target.closest('tr');
                    const usuarioId = fila.dataset.usuarioId;

                    // Guardar usuarioId en localStorage
                    sessionStorage.setItem('usuarioId', usuarioId);

                    // Redirigir a detalles.html
                    window.location.href = 'detalles.html';
                }
            });

            // Botón de cerrar sesión
            document.getElementById('cerrarSesion').addEventListener('click', function () {
                alert('Sesión cerrada.');
                window.location.href = 'index.html';
            });
        });
    </script>
</body>
</html>
